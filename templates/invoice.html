<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8">
    <title>Faktúra {{.InvoiceNumber}}</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Arial, sans-serif; font-size: 12px; color: #333; padding: 40px; }
        .header { display: flex; justify-content: space-between; margin-bottom: 40px; }
        .logo { font-size: 24px; font-weight: bold; color: #6366f1; }
        .invoice-title { font-size: 28px; font-weight: bold; }
        .parties { display: flex; justify-content: space-between; margin-bottom: 40px; }
        .party { width: 45%; }
        .party-title { font-size: 10px; text-transform: uppercase; color: #666; margin-bottom: 8px; }
        .party-name { font-size: 16px; font-weight: bold; margin-bottom: 4px; }
        table { width: 100%; border-collapse: collapse; margin-bottom: 30px; }
        th { text-align: left; padding: 12px; background: #f8f9fa; border-bottom: 2px solid #e5e7eb; }
        td { padding: 12px; border-bottom: 1px solid #e5e7eb; }
        .text-right { text-align: right; }
        .totals { width: 300px; margin-left: auto; }
        .totals-row { display: flex; justify-content: space-between; padding: 8px 0; }
        .totals-row.total { font-size: 18px; font-weight: bold; border-top: 2px solid #333; }
    </style>
</head>
<body>
    <div class="header">
        <div class="logo">{{.SupplierName}}</div>
        <div>
            <div class="invoice-title">FAKTÚRA</div>
            <div>{{.InvoiceNumber}}</div>
        </div>
    </div>

    <div class="parties">
        <div class="party">
            <div class="party-title">Dodávateľ</div>
            <div class="party-name">{{.SupplierName}}</div>
            <div>{{.SupplierAddress}}</div>
            <div>{{.SupplierZip}} {{.SupplierCity}}</div>
            {{if .SupplierICO}}<div>IČO: {{.SupplierICO}}</div>{{end}}
            {{if .SupplierDIC}}<div>DIČ: {{.SupplierDIC}}</div>{{end}}
            {{if .SupplierICDPH}}<div>IČ DPH: {{.SupplierICDPH}}</div>{{end}}
        </div>
        <div class="party">
            <div class="party-title">Odberateľ</div>
            <div class="party-name">{{.CustomerName}}</div>
            <div>{{.CustomerAddress}}</div>
            <div>{{.CustomerZip}} {{.CustomerCity}}</div>
            {{if .CustomerEmail}}<div>{{.CustomerEmail}}</div>{{end}}
        </div>
    </div>

    <table>
        <thead>
            <tr>
                <th>Položka</th>
                <th class="text-right">Množstvo</th>
                <th class="text-right">Cena/ks</th>
                <th class="text-right">Spolu</th>
            </tr>
        </thead>
        <tbody>
            {{range .Items}}
            <tr>
                <td>{{.Name}}</td>
                <td class="text-right">{{.Quantity}}</td>
                <td class="text-right">{{printf "%.2f" .Price}} €</td>
                <td class="text-right">{{printf "%.2f" .Total}} €</td>
            </tr>
            {{end}}
        </tbody>
    </table>

    <div class="totals">
        <div class="totals-row">
            <span>Základ dane</span>
            <span>{{printf "%.2f" .Subtotal}} €</span>
        </div>
        <div class="totals-row">
            <span>DPH 20%</span>
            <span>{{printf "%.2f" .Tax}} €</span>
        </div>
        <div class="totals-row total">
            <span>Celkom k úhrade</span>
            <span>{{printf "%.2f" .Total}} €</span>
        </div>
    </div>

    {{if .SupplierIBAN}}
    <div style="margin-top: 40px; padding: 15px; background: #f8f9fa; border-radius: 8px;">
        <strong>Platobné údaje</strong><br>
        IBAN: {{.SupplierIBAN}}<br>
        Variabilný symbol: {{.InvoiceNumber}}
    </div>
    {{end}}
</body>
</html>
